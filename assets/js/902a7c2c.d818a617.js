"use strict";(self.webpackChunkmy_portfolio=self.webpackChunkmy_portfolio||[]).push([[344],{7260:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>r,toc:()=>i});const r=JSON.parse('{"id":"Wazuh_","title":"Wazuh_","description":"\ud83e\uddfc Full Wazuh Cleanup & Fresh Install","source":"@site/notes/Wazuh_.md","sourceDirName":".","slug":"/Wazuh_","permalink":"/notes/Wazuh_","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"notesSidebar","previous":{"title":"AWS_Cli","permalink":"/notes/AWS_Cli"}}');var t=n(4848),a=n(8453);const l={},o=void 0,d={},i=[{value:"\ud83e\uddfc Full Wazuh Cleanup &amp; Fresh Install",id:"-full-wazuh-cleanup--fresh-install",level:2},{value:"\u2699\ufe0f Enable Vulnerability Detector &amp; Other Features",id:"\ufe0f-enable-vulnerability-detector--other-features",level:2},{value:"\ud83d\udd01 Restart the Wazuh Manager Service",id:"-restart-the-wazuh-manager-service",level:2},{value:"\ud83d\udd10 Reset Wazuh Dashboard User Passwords",id:"-reset-wazuh-dashboard-user-passwords",level:2},{value:"\ud83d\udccc Notes",id:"-notes",level:2}];function h(e){const s={blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h2,{id:"-full-wazuh-cleanup--fresh-install",children:"\ud83e\uddfc Full Wazuh Cleanup & Fresh Install"}),"\n",(0,t.jsx)(s.p,{children:"Use this command to fully uninstall and reinstall Wazuh, including the manager, indexer, dashboard, and related components. Useful during lab resets or corrupted installs."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"sudo bash wazuh-install.sh -a -o\n"})}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["\u26a0\ufe0f This will ",(0,t.jsx)(s.strong,{children:"wipe all data and configs"})," \u2014 use only in controlled environments (e.g., test labs)."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"\ufe0f-enable-vulnerability-detector--other-features",children:"\u2699\ufe0f Enable Vulnerability Detector & Other Features"}),"\n",(0,t.jsxs)(s.p,{children:["Edit the Wazuh configuration file to manually enable features like the ",(0,t.jsx)(s.strong,{children:"vulnerability detector"}),", ",(0,t.jsx)(s.strong,{children:"syscollector"}),", ",(0,t.jsx)(s.strong,{children:"file integrity monitoring"}),", etc."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"sudo nano /var/ossec/etc/ossec.conf\n"})}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["\ud83d\udcdd Tip: Look for ",(0,t.jsx)(s.code,{children:"<vulnerability-detector>"}),", ",(0,t.jsx)(s.code,{children:"<syscollector>"}),", and other modules in the XML structure."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-restart-the-wazuh-manager-service",children:"\ud83d\udd01 Restart the Wazuh Manager Service"}),"\n",(0,t.jsx)(s.p,{children:"Apply changes made to configuration files by restarting the main Wazuh manager daemon."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"sudo systemctl restart wazuh-manager\n"})}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"\ud83d\udd04 Needed after config edits or upgrades."}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-reset-wazuh-dashboard-user-passwords",children:"\ud83d\udd10 Reset Wazuh Dashboard User Passwords"}),"\n",(0,t.jsxs)(s.p,{children:["Reset all Wazuh dashboard user passwords \u2014 including ",(0,t.jsx)(s.code,{children:"admin"}),". The script is interactive and will prompt for new passwords."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"sudo bash /usr/share/wazuh-indexer/plugins/opensearch-security/tools/wazuh-passwords-tool.sh -a\n"})}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["\ud83d\uded1 This resets ",(0,t.jsx)(s.strong,{children:"all dashboard users"}),". For ",(0,t.jsxs)(s.strong,{children:["just ",(0,t.jsx)(s.code,{children:"admin"})]}),", use:"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"sudo bash /usr/share/wazuh-indexer/plugins/opensearch-security/tools/wazuh-passwords-tool.sh -u admin\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-notes",children:"\ud83d\udccc Notes"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Command / File"}),(0,t.jsx)(s.th,{children:"Purpose"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"wazuh-install.sh -a -o"})}),(0,t.jsx)(s.td,{children:"Full uninstall & reinstall"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"ossec.conf"})}),(0,t.jsx)(s.td,{children:"Core config for Wazuh agent/manager features"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"systemctl restart wazuh-manager"})}),(0,t.jsx)(s.td,{children:"Reload config & restart services"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"wazuh-passwords-tool.sh"})}),(0,t.jsx)(s.td,{children:"Resets OpenSearch / Dashboard user passwords"})]})]})]}),"\n",(0,t.jsx)(s.hr,{})]})}function c(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>o});var r=n(6540);const t={},a=r.createContext(t);function l(e){const s=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);
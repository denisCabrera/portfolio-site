"use strict";(self.webpackChunkmy_portfolio=self.webpackChunkmy_portfolio||[]).push([[249],{725:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"AWS_Cli","title":"AWS_Cli","description":"\ud83d\udd0d List All Running EC2 Instances","source":"@site/notes/AWS_Cli.md","sourceDirName":".","slug":"/AWS_Cli","permalink":"/notes/AWS_Cli","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"notesSidebar","next":{"title":"Wazuh_","permalink":"/notes/Wazuh_"}}');var t=s(4848),i=s(8453);const c={},o=void 0,a={},d=[{value:"\ud83d\udd0d List All Running EC2 Instances",id:"-list-all-running-ec2-instances",level:2},{value:"\ud83d\udd11 Get Windows Server RDP Password",id:"-get-windows-server-rdp-password",level:2},{value:"\ud83c\udf10 Describe Network Interfaces by Security Group",id:"-describe-network-interfaces-by-security-group",level:2},{value:"\ud83d\udee0 Modify an Instance\u2019s Security Groups",id:"-modify-an-instances-security-groups",level:2},{value:"\u274c Delete a Security Group",id:"-delete-a-security-group",level:2},{value:"\ud83d\udccc Placeholder Key Reference",id:"-placeholder-key-reference",level:2}];function l(e){const n={blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"-list-all-running-ec2-instances",children:"\ud83d\udd0d List All Running EC2 Instances"}),"\n",(0,t.jsxs)(n.p,{children:["This command lists all EC2 instances in the specified AWS region. It extracts the ",(0,t.jsx)(n.strong,{children:"Instance ID"})," and the ",(0,t.jsx)(n.strong,{children:"Name tag"})," (if available), displaying the result in a table format."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"aws ec2 describe-instances \\\n  --region <your-region> \\\n  --query 'Reservations[*].Instances[*].[InstanceId,Tags[?Key==`Name`].Value|[0]]' \\\n  --output table\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-get-windows-server-rdp-password",children:"\ud83d\udd11 Get Windows Server RDP Password"}),"\n",(0,t.jsxs)(n.p,{children:["Use this command to retrieve the Windows ",(0,t.jsx)(n.strong,{children:"Administrator password"})," for an EC2 instance. You must provide the ",(0,t.jsx)(n.strong,{children:"instance ID"}),", your ",(0,t.jsx)(n.strong,{children:"private key file"}),", and the ",(0,t.jsx)(n.strong,{children:"region"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"aws ec2 get-password-data \\\n  --instance-id <your-instance-id> \\\n  --priv-launch-key ~/.ssh/<your-private-key>.pem \\\n  --region <your-region> \\\n  --query 'PasswordData' \\\n  --output text\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\ud83d\udd10 Note: This only works after the EC2 instance has generated the password (usually several minutes after launch)."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-describe-network-interfaces-by-security-group",children:"\ud83c\udf10 Describe Network Interfaces by Security Group"}),"\n",(0,t.jsxs)(n.p,{children:["This lists all ",(0,t.jsx)(n.strong,{children:"network interfaces"})," attached to EC2 instances that are associated with a specific ",(0,t.jsx)(n.strong,{children:"security group"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'aws ec2 describe-network-interfaces \\\n  --filters "Name=group-id,Values=<your-security-group-id>" \\\n  --region <your-region> \\\n  --query "NetworkInterfaces[*].{ID:NetworkInterfaceId,AttachedTo:Attachment.InstanceId}" \\\n  --output table\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-modify-an-instances-security-groups",children:"\ud83d\udee0 Modify an Instance\u2019s Security Groups"}),"\n",(0,t.jsx)(n.p,{children:"Replace all existing security groups attached to an EC2 instance with the specified one(s)."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"aws ec2 modify-instance-attribute \\\n  --instance-id <your-instance-id> \\\n  --groups <your-security-group-id> \\\n  --region <your-region>\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\ud83d\udca1 You can pass multiple group IDs separated by spaces if needed."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-delete-a-security-group",children:"\u274c Delete a Security Group"}),"\n",(0,t.jsxs)(n.p,{children:["Use this to ",(0,t.jsx)(n.strong,{children:"delete a security group"})," that is no longer associated with any EC2 or other AWS resources."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"aws ec2 delete-security-group \\\n  --group-id <your-security-group-id> \\\n  --region <your-region>\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\u26a0\ufe0f Ensure no EC2 instance or ENI is using this security group, or the command will fail."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-placeholder-key-reference",children:"\ud83d\udccc Placeholder Key Reference"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Placeholder"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<your-region>"})}),(0,t.jsxs)(n.td,{children:["AWS region (e.g., ",(0,t.jsx)(n.code,{children:"us-east-1"}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<your-instance-id>"})}),(0,t.jsxs)(n.td,{children:["EC2 instance ID (e.g., ",(0,t.jsx)(n.code,{children:"i-xxxxxxxxxxxxx"}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<your-security-group-id>"})}),(0,t.jsxs)(n.td,{children:["Security group ID (e.g., ",(0,t.jsx)(n.code,{children:"sg-xxxxxxxx"}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<your-private-key>"})}),(0,t.jsxs)(n.td,{children:["Filename of your ",(0,t.jsx)(n.code,{children:".pem"})," private key"]})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["If you want this in ",(0,t.jsx)(n.strong,{children:"collapsible sections"}),", a Docusaurus ",(0,t.jsx)(n.code,{children:"<details>"})," version, or to convert this into a JSON-powered interactive table or copy-button-enhanced code blocks, just say the word."]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var r=s(6540);const t={},i=r.createContext(t);function c(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);